# Работа HTTP запроса

## Ссылки

1. ****Простым языком об HTTP****

[Простым языком об HTTP](https://habr.com/ru/post/215117/)

1. ****Web Security: введение в HTTP****

[Web Security: введение в HTTP](https://habr.com/ru/company/edison/blog/433288/)

1. ****Путь к HTTP/2****

[Путь к HTTP/2](https://habr.com/ru/post/308846/)

## Что такое HTTP?

***HTTP*** - протокол передачи данных, изначально был придуман для передачи гипертекстовых документов. На данный момент могут передаваться так же структуры ***JSON***, ***XML***.

## Что внутри HTTP запроса?

1.  **first line** - метод, используемый клиентом, путь к ресурсу, версия протокола
(`GET /players/lebron- james HTTP/1.1`);
2. **headers** - заголовки, метаданные сообщения (`Host: nba.com Accept: */*`). Могут быть
как стандартизированные, так и свои;
3. **body** - тело запроса, не является обязательным. Отделено от остольного
сообщения пустой строкой. Может быть HTML, JSON, XML..

## Различия между HTTP1.1и HTTP2

- **Бинарный вместо текстового** - теперь данные передаются в бинарном виде, в виде
фреймов (фрейм `HEADERS`, `DATA`, etc);
- **Мультиплексирование** — передача нескольких асинхронных HTTP-запросов по
одному TCP-соединению, для понимания к какому потоку пренадлежит тот или
иной пакет, используются индификаторы потока;
- **Cжатие заголовков методом [HPACK](https://russianblogs.com/article/30721392038/)**, используется алгоритм Хаффмана для
литеральных значений, клиент и сервер поддерживают единую таблицу заголовков,
к которой ссылаются при повторении запросов;
- **Server Push** — несколько ответов на один запрос, сервер, зная, что клиент
собирается запросить определенный ресурс, может отправить его не дожидаясь
запроса. Отправляя фрейм `PUSH_PROMISE`, сервер сообщит, в каком потоке ждать
ресурс;
- **Приоритизация запросов** - клиент может установить приоритет потоков, передав
информацию об этом во фрейм `HEADER`;
- **Безопасность** - некоторые браузеры требуют HTTPS при использовании HTTP2. Но
это не является обязательным по стандарту.