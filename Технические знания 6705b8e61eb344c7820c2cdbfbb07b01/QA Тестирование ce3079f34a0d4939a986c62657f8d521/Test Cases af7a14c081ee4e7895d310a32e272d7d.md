# Test Cases

## Что такое [Test Case](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md)?

[Test Cases](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md) – это документ с набором precondition, действий , ожидаемым результатом и постусловиями созданный для проверки реализации тестируемой функции или ее части.

## Позитивные и негативные тесты

Четкой границы между позитивными и негативными нет. К негативным [Test Cases](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md) часто относятся нетипичное использование приложения, работа в невозможных конфигурациях, потерю коннекта, что будет если будут exceptions в процессе выполнения запросов и прочее. 

Важно запомнить, что сначала выполняем позитивные проверки, а потом уже негативные.

Нам будет не важно, как обрабатывается `SQL` инъекция если не работают покупки в интернет-магазине.

### Позитивные тесты

Позитивные [Test Case](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md) используют только корректные данные и проверяет что вызванная функция работает так, как и ожидается, что система в целом работает так как и ожидается.

### Негативные тесты

Негативные case оперирует невалидными данными чтобы проверить исключительные ситуации и срабатывание валидаторов. Негативные cases изначально построены так чтобы проверить что система не работает там где и не должна, да еще и показывает пользователю понятные сообщения.

## Пример [Test Case](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md)

Тестируем работу с корзиной в интернет-магазине.

**Позитивные:**

- Добавить товар;
- удалить товар;
- добавить товар снова.

**Негативные:**

- Удалить удаленный товар;
- Открыть две вкладки и удалить товар дважды.

## Поля [Test Case](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md)

### Основные поля

Обязательные поля, которые есть во всех тест cases, не важно, где вы их храните:

- **ID (auto)** - уникальный номер case;
- **Title**- заголовок, старайтесь делать его коротким, но максимально отражающим суть проверки;
- **Priority** - выставляем вручную, основываясь на приоритете функциональности, и вероятности использования сценария;
- **Test Scope**- краткое описание что это за тест case, что он проверяет. Назначение проверки. Например: *В этом [Test Case](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md) мы проверяем добавление товара в корзину;*
- **Precondition**: описание всех действий, которые надо сделать до начала выполнения теста. Например, привести систему в какое-то состояние, включить-выключить какие-то настройки, создать определенные тестовые данные и прочее;
- **Test Steps** - шаги по выполнению самой проверки;
- **Test data** - примеры данных, которые могут использоваться для прохождения теста, юзеры с паролями, файлы для загрузки, zip-коды, запросы в базу данных, и прочее;
- **ЕР** - что мы ожидаем в конце нашей проверки, например, что письмо отправилось тестовым юзерам, продукт попал в корзину и прочее.

### Дополнительные поля

Дополнительные поля: если используется какой-либо инструментарий, то большая часть будет заполняться автоматически

- Автор – кто создал;
- Labels, tags, категории - помогают потом искать тесты по ключевым словам;
- Авто статус - если есть автоматизация в проекте, позволяет отследить был ли тест
в режиме автоматики, или нет;
- Информация по прогонам теста, заполняется автоматически, позволяет отслеживать, когда кем гоняли, какой был статус, били ли падения и на каком шаге;
- Текущий статус;
- Review- было ли проведено review теста, очень полезная активность на проекте. Review тестов помогает отследить ошибки копипасты, ошибки в понимании самого тестировщика и плюс позволяет команде быть в курсе над какими задачами работает коллега;
- Postcondition - приведение системы в то же состояние, которое было до начала прогона теста. Это особенно актуально если в precondition вы включали или меняли какие-то настройки на общих ресурсах. Иными словами это правило хорошего тона, убрать за собой все следы;
- Комментарии - тут может быть все что угодно, история изменений, что и на основании чего менялось.

## Как написать хороший [Test Case](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md)?

- На каждый case только одна цель проверки. Не надо писать case, который проверяет всю фичу, всю страницу, или содержит в себе позитивные и негативные проверки одной формы;
- Каждый case должен быть завершенным;
- Case должен быть воспроизводимым и при каждом прогоне приводить к одному и тому же определенному результату;
- Case должен быть простым, понятным любому члену команды, понятным новом человеку без опыта, и не длинным. Прогонять case из 40 шагов - это мука;
- Cases не должен содержать в себе предположения о том, как поведет себя система, все ожидаемые результаты должны быть обоснованы не вашим опытом и предположением, а спецификацией или любой другой документацией. Если вы в процессе написания тест case понимаете, что не знаете точно, какой должен быть ожидаемый результат то надо идти выяснять;
- Каждый [Test Case](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md) должен содержать в себе всю необходимую информацию для прогона, включая тестовые данные, скрипты, файлы загрузки, инструменты;
- [Test Case](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md) не должны содержать в своих шагах ссылки на другие тест case;
- Избегайте повелительного наклонения, все должно быть написано в нейтральном стиле.

## Плюсы и минусы использования [Test Cases](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md)

### Плюсы

- Хорошее тестовое покрытие;
- При написании используются все возможные тестовые техники, и это дает нам больше уверенности в оптимальном покрытии функционала;
- Снижение затрат на поддержку продукта, так как все поведение описано с помощью [Test Case](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md);
- Переиспользование тестов, каждый тест case может гоняться множество раз, быть в
разных наборах от Smoke до регресса;
- Наличие [Test Cases](%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%B0%D1%8F%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%201c9ed51766e64318825fe2b29c761faa.md) и результатов их прогонов подтверждает, что ПО отвечает
потребностям пользователя;
- Легко автоматизировать;
- Легко прогонять любому члену команды или новичку, незнакомому с продуктом;
- Использование template, стандарта понятного всей команде от которого нельзя отступать.

### Минусы

- Не спасают тестировщиков от [парадокса пестицида](%D0%9F%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF%D1%8B%20%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20843d5301113e47d1b8db9ebea983dc66.md);
- Не гибкие, потому что проверки прописаны по шагам и отступать нельзя;
- Увеличивают расходы на поддержку самих тестов;
- Могут содержать в себе ошибки копипаста, все мы люди. Чтобы минимизировать этот риск, надо обязательно проводить review тест cases;
- Большое количество документации, иногда это плохо, потому что в ней можно потонуть;
- Если нет template, или он не соблюдается, то тесты могут отличаться друг от друга и требовать больше времени при прогоне.