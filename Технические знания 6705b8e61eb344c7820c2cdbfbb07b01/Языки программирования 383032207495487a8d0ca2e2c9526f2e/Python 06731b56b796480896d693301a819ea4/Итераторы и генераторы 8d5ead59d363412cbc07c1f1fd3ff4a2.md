# –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã

## –°—Å—ã–ª–∫–∏

1. –ò—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç, –∏—Ç–µ—Ä–∞—Ç–æ—Ä –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (2017);

[–ò—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç, –∏—Ç–µ—Ä–∞—Ç–æ—Ä –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä](https://habr.com/ru/post/337314/)

1. –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ –≤ Python (2020).

[–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ –≤ Python](https://habr.com/ru/post/488112/)

## –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã

***–ò—Ç–µ—Ä–∞—Ç–æ—Ä*** - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –¥–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º *–∫–æ–ª–ª–µ–∫—Ü–∏–∏* (—ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–∞—Å—Å–∏–≤ –∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä). –ò—Ç–µ—Ä–∞—Ç–æ—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø, –Ω–µ –≤—ã–ø–æ–ª–Ω—è—è –∏—Ç–µ—Ä–∞—Ü–∏—é –ø–æ –Ω–∏–º.

***–ò—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç*** - –æ–±—ä–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å –º–µ—Ç–æ–¥ `iter`. –ò—Ç–µ—Ä–∞—Ç–æ—Ä –∂–µ - –æ–±—ä–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å –¥–≤–∞ –º–µ—Ç–æ–¥–∞: `iter` –∏ `next`. –ï—Å–ª–∏ –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç `C` (—Å–ø–∏—Å–æ–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä), —Ç–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞ –∫ –Ω–µ–º—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å `iter(C)`.

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑—ã–≤–∞—Ç—å `next(A)`, –≥–¥–µ `A` - –∏—Ç–µ—Ä–∞—Ç–æ—Ä.

<aside>
üí° –£ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞, —á–∞—Å—Ç–æ, –Ω–µ—Ç –¥–ª–∏–Ω–Ω—ã. –≠–ª–µ–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.

</aside>

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞–º–∏, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã –∫–∞–∫ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã. –ù–∞–ø—Ä–∏–º–µ—Ä `list`. –í –Ω–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω `iter`, –Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω `next`.

### –ü—Ä–∏–º–µ—Ä –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ –≤ Python

```python
class ListIterator(Iterator):
    def __init__(self, collection, cursor):
        """
        :param collection: —Å–ø–∏—Å–æ–∫
        :param cursor: –∏–Ω–¥–µ–∫—Å, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—á–Ω–µ—Ç—Å—è –ø–µ—Ä–µ–±–æ—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–∏.
        —Ç–∞–∫ –∂–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ -1 >= cursor < len(collection)
        """
        super().__init__(collection, cursor)

    def first(self):
        """
        –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ -1.
        –¢–∞–∫ –∫–∞–∫ –≤ –Ω–∞—à–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–Ω–∞—á–∞–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å next 
         –∫–æ—Ç–æ—Ä—ã–π —Å–¥–≤–∏–Ω–µ—Ç –∫—É—Ä—Å–æ—Ä –Ω–∞ 1.
        """
        self._cursor = -1

    def next(self):
        """
        –ï—Å–ª–∏ –∫—É—Ä—Å–æ—Ä —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç, —Ç–æ –≤—ã–∑—ã–≤–∞–µ–º StopIteration,
        –∏–Ω–∞—á–µ —Å–¥–≤–∏–≥–∞–µ–º –∫—É—Ä—Å–æ—Ä –Ω–∞ 1
        """
        if self._cursor + 1 >= len(self._collection):
            raise StopIteration()
        self._cursor += 1

    def current(self):
        """
        –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
        """
        return self._collection[self._cursor]
```

```python
class ListCollection(Aggregate):
    def __init__(self, collection):
        self._collection = list(collection)

    def iterator(self):
        return ListIterator(self._collection, -1)
```

```python
collection = (1, 2, 5, 6, 8)
aggregate = ListCollection(collection)
itr = aggregate.iterator()

# –æ–±—Ö–æ–¥ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
while True:
    try:
        itr.next()
    except StopIteration:
        break
    print(itr.current())
```

## –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã

***–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏*** –Ω–∞–∑—ã–≤–∞—é—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –≥–¥–µ –≤–º–µ—Å—Ç–æ `return` –µ—Å—Ç—å `yield`. 

–õ—é–±–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ Python, –≤ —Ç–µ–ª–µ –∫–æ—Ç–æ—Ä–æ–π –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `yield`, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π -* –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç *–æ–±—ä–µ–∫—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä*.

*–û–±—ä–µ–∫—Ç-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä* —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ —Å —ç—Ç–∏–º –æ–±—ä–µ–∫—Ç–æ–º –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, –∫–∞–∫ —Å –ª—é–±—ã–º –¥—Ä—É–≥–∏–º *–∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–º –æ–±—ä–µ–∫—Ç–æ–º*.

### –ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –≤ Python

```python
def fibonacci():
    prev, cur = 0, 1
    while True:
        yield prev
        prev, cur = cur, prev + cur

for i in fibonacci():
    print(i)
    if i > 100:
        break
```